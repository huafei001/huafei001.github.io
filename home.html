<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>彦祖之家 - USDT一站式服务平台</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#3b82f6',
                        secondary: '#f97316',
                        notice: '#ef4444',
                        techCyan: '#22d3ee',
                        techPurple: '#a855f7',
                    },
                    fontFamily: {
                        sans: ['PingFang SC', 'Helvetica Neue', 'Arial', 'sans-serif'],
                    },
                }
            }
        }
    </script>
    <style type="text/tailwindcss">
        @layer utilities {
            /* 底部tab栏 - 跳转样式 */
            .bottom-tab {
                @apply fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 flex justify-around items-center h-16 z-50 shadow-lg;
            }
            .tab-item {
                @apply flex flex-col items-center justify-center flex-1 text-gray-500 hover:text-primary transition-colors;
            }
            .tab-item.active {
                @apply text-primary;
            }
            .tab-icon {
                @apply text-xl mb-1;
            }
            .tab-text {
                @apply text-xs;
            }
            /* 机场方块卡片 */
            .airport-card {
                @apply bg-white rounded-xl p-4 border border-gray-100 shadow-sm hover:shadow-md transition-all flex flex-col items-center text-center h-full;
            }
        }
    </style>
    <style>
        /* 全局样式 */
        body.home-page {
            max-width: 750px;
            margin: 0 auto;
            background-color: #f9fafb;
            padding: 2rem 10px 4rem 10px;
            font-family: 'PingFang SC', sans-serif;
        }
        body.other-page {
            max-width: 750px;
            margin: 0 auto;
            background-color: #f9fafb;
            padding: 2rem 10px 4rem 10px;
            font-family: 'PingFang SC', sans-serif;
        }

        /* 订单查询结果表格样式 */
        .result-table {
            width: 100%;
            border-collapse: collapse;
            background: #ffffff;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
        .result-table th {
            background: linear-gradient(90deg, #f7fafc, #edf2f7);
            color: #2d3748;
            font-weight: 600;
            padding: 12px 8px;
            text-align: left;
            font-size: 12px;
            border-bottom: 2px solid #e2e8f0;
        }
        .result-table td {
            padding: 12px 8px;
            text-align: left;
            border-bottom: 1px solid #f0f4f8;
            font-size: 13px;
        }
        .status-completed { color: #38a169; font-weight: 600; }
        .status-pending { color: #ed8936; font-weight: 600; }
        .no-data {
            padding: 25px;
            color: #718096;
            font-size: 13px;
            text-align: center;
            background: #ffffff;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
        }
    </style>
</head>
<body class="home-page">

<!-- 彦祖之家订单查询板块 -->
<div class="bg-white rounded-2xl shadow-lg p-5 mb-6 border border-gray-100 overflow-hidden relative">
  <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
    <i class="fa fa-search text-techCyan"></i> 彦祖之家订单查询
  </h3>

  <!-- 搜索表单 -->
  <div class="search-box mb-4">
    <form id="orderSearchForm" class="flex gap-2">
      <input type="text" name="account" placeholder="请输入手机号/户号" required
             class="flex-1 px-4 py-2 border border-gray-200 rounded-lg focus:outline-none focus:border-primary transition-colors">
      <button type="submit"
              class="px-4 py-2 bg-primary text-white rounded-lg hover:bg-primary/90 transition-colors flex items-center gap-1">
        <i class="fa fa-search"></i> 查询
      </button>
    </form>
  </div>

  <!-- 搜索提示/结果 -->
  <div id="searchResult" class="mt-2">
    <div class="text-center text-gray-500 text-sm py-4">
      输入手机号或户号，查询您的充值订单
    </div>
  </div>
</div>

<!-- 模拟订单数据JS -->
<script>
// 模拟订单数据库（可替换为真实接口请求）
const mockOrderDB = [
  { id: 1, orderNo: '2026***06', account: '13800138000', type: '燃气', total_amount: 1000, paid_amount: 1000, status: 'completed', date: '2026-01-20 10:30:00' },
  { id: 2, orderNo: '2026***22', account: '13900139000', type: '水费', total_amount: 200, paid_amount: 200, status: 'completed', date: '2026-01-20 11:15:00' },
  { id: 3, orderNo: '2026***33', account: '13800138000', type: '水费', total_amount: 350, paid_amount: 0, status: 'pending', date: '2026-01-20 14:20:00' },
  { id: 4, orderNo: '2026***57', account: '13700137000', type: '话费', total_amount: 300, paid_amount: 300, status: 'completed', date: '2026-01-19 16:40:00' },
  { id: 5, orderNo: '2026***95', account: '13600136000', type: '电费', total_amount: 800, paid_amount: 400, status: 'pending', date: '2026-01-19 09:10:00' }
];

// 手机号/户号模糊化函数
function blurAccount(account) {
  const len = account.length;
  if (len <= 4) return account.substr(0, 1) + '*'.repeat(len - 1);
  if (len <= 8) return account.substr(0, 2) + '*'.repeat(len - 3) + account.substr(-1);
  return account.substr(0, 3) + '*'.repeat(6) + account.substr(-2);
}

// 搜索表单提交事件
document.getElementById('orderSearchForm').addEventListener('submit', function(e) {
  e.preventDefault();
  const account = this.account.value.trim();
  const resultEl = document.getElementById('searchResult');

  // 筛选匹配的订单
  const matchedOrders = mockOrderDB.filter(order => order.account.includes(account));

  if (matchedOrders.length === 0) {
    resultEl.innerHTML = `
      <div class="no-data">
        未查询到 <span class="text-primary font-medium">${blurAccount(account)}</span> 的订单记录
      </div>
    `;
    return;
  }

  // 生成结果表格
  let tableHtml = `
    <table class="result-table">
      <tr>
        <th>订单编号</th>
        <th>业务类型</th>
        <th>总金额</th>
        <th>已充金额</th>
        <th>订单状态</th>
        <th>下单时间</th>
      </tr>
  `;

  matchedOrders.forEach(order => {
    const statusText = order.status === 'completed' ? '✅ 已完成' : '⏳ 未完成';
    const statusClass = order.status === 'completed' ? 'status-completed' : 'status-pending';
    tableHtml += `
      <tr>
        <td>${order.orderNo}</td>
        <td>${order.type}</td>
        <td>¥${order.total_amount}</td>
        <td>¥${order.paid_amount}</td>
        <td class="${statusClass}">${statusText}</td>
        <td>${order.date}</td>
      </tr>
    `;
  });

  tableHtml += `</table>`;
  resultEl.innerHTML = tableHtml;
});
</script>

<!-- 彦祖之家主页面内容 -->
<div id="home-content">
    <!-- 机场工具推荐 - 方块布局 -->
    <div class="bg-white rounded-2xl shadow-lg border border-gray-100 p-4 mb-6 overflow-hidden relative transition-all duration-300 hover:shadow-xl">
        <div class="absolute top-0 left-0 w-24 h-24 bg-techPurple/5 rounded-full -translate-x-1/2 -translate-y-1/2"></div>
        <div class="absolute bottom-0 right-0 w-16 h-16 bg-techCyan/5 rounded-full translate-x-1/4 translate-y-1/4"></div>
        
        <div class="relative z-10 mb-4">
            <h2 class="text-lg font-bold text-gray-800 text-center">
                <i class="fa fa-plane text-techPurple mr-2"></i> 机场工具推荐
            </h2>
        </div>

        <div class="grid grid-cols-2 gap-3">
            <!-- 良心云 -->
            <div class="airport-card">
                <div class="w-12 h-12 rounded-full bg-[#4ECDC4]/10 flex items-center justify-center mb-2">
                    <i class="fa fa-cloud text-[#4ECDC4] text-xl"></i>
                </div>
                <h3 class="font-semibold text-sm mb-1">良心云</h3>
                <p class="text-xs text-gray-500 mb-2">24元/年起</p>
                <a href="https://xn--9kqz23b19z.com/#/register?code=0mor88Nr" target="_blank" class="text-xs bg-[#4ECDC4] text-white px-3 py-1 rounded-full">
                    注册码 0mor88Nr
                </a>
            </div>

            <!-- 一元机场 -->
            <div class="airport-card">
                <div class="w-12 h-12 rounded-full bg-[#FF6B6B]/10 flex items-center justify-center mb-2">
                    <i class="fa fa-rocket text-[#FF6B6B] text-xl"></i>
                </div>
                <h3 class="font-semibold text-sm mb-1">一元机场</h3>
                <p class="text-xs text-gray-500 mb-2">高性价比入门</p>
                <a href="https://xn--4gq62f.com/#/register?code=CLONhlZF" target="_blank" class="text-xs bg-[#FF6B6B] text-white px-3 py-1 rounded-full">
                    注册码 CLONhlZF
                </a>
            </div>

            <!-- 宝可梦机场 -->
            <div class="airport-card">
                <div class="w-12 h-12 rounded-full bg-[#4ECDC4]/10 flex items-center justify-center mb-2">
                    <i class="fa fa-paw text-[#4ECDC4] text-xl"></i>
                </div>
                <h3 class="font-semibold text-sm mb-1">宝可梦机场</h3>
                <p class="text-xs text-gray-500 mb-2">月享60G免费流量</p>
                <a href="https://love.p6m6.com/#/register?code=X07zWTLv" target="_blank" class="text-xs bg-[#4ECDC4] text-white px-3 py-1 rounded-full">
                    注册码 X07zWTLv
                </a>
            </div>

            <!-- 24一年机场 -->
            <div class="airport-card">
                <div class="w-12 h-12 rounded-full bg-[#FFD166]/10 flex items-center justify-center mb-2">
                    <i class="fa fa-diamond text-[#FFD166] text-xl"></i>
                </div>
                <h3 class="font-semibold text-sm mb-1">24一年机场</h3>
                <p class="text-xs text-gray-500 mb-2">年度特惠不限速</p>
                <a href="https://kitty.su/#/register?code=HqZaxd0y" target="_blank" class="text-xs bg-[#FFD166] text-white px-3 py-1 rounded-full">
                    注册码 HqZaxd0y
                </a>
            </div>
        </div>

        <div class="mt-3 p-2 bg-gray-50 rounded-lg text-center">
            <p class="text-xs text-gray-500">
                <i class="fa fa-lightbulb-o text-techPurple mr-1"></i>
                仅限个人学习交流，请勿非法使用
            </p>
        </div>
    </div>

    <!-- 网站运行统计 -->
    <div class="max-w-320 mx-auto p-4 bg-white rounded-2xl shadow-md border border-gray-100 relative overflow-hidden mt-6">
        <div class="absolute top-0 left-0 right-0 h-2 bg-gradient-to-r from-primary to-techCyan"></div>
        <div class="text-center mb-3">
            <i class="fa fa-server text-xl text-primary mb-1"></i>
            <h3 class="font-semibold text-sm text-gray-800">网站运行统计</h3>
        </div>
        <div class="flex justify-around items-center">
            <div class="text-center">
                <div class="text-xl font-bold text-primary" id="totalVisitors">0</div>
                <div class="text-xs text-gray-500 mt-1">总访问量</div>
            </div>
            <div class="w-px h-8 bg-gray-200"></div>
            <div class="text-center">
                <div class="text-xl font-bold text-primary" id="runTime">0</div>
                <div class="text-xs text-gray-500 mt-1">运行天数</div>
            </div>
        </div>
        <div class="text-xs text-gray-400 text-center mt-3" id="updateTime"></div>
    </div>
</div>

<!-- 底部 Tab 栏 - 跳转独立页面 -->
<div class="bottom-tab">
    <a href="index.html" class="tab-item">
        <i class="fa fa-home tab-icon"></i>
        <span class="tab-text">生活充值</span>
    </a>
    <a href="anti-fraud.html" class="tab-item">
        <i class="fa fa-shield tab-icon"></i>
        <span class="tab-text">防骗公布</span>
    </a>
    <a href="downloads.html" class="tab-item">
        <i class="fa fa-download tab-icon"></i>
        <span class="tab-text">软件下载</span>
    </a>
    <a href="home.html" class="tab-item active">
        <i class="fa fa-user tab-icon"></i>
        <span class="tab-text">彦祖之家</span>
    </a>
</div>

<script>
    // 网站统计脚本
    function initCounter() {
        const LAUNCH_DATE = new Date(2025, 11, 1); 
        let total = parseInt(localStorage.getItem('totalVisitors')) || 8699;
        const today = new Date();
        const timeDiff = today - LAUNCH_DATE;
        const runDays = Math.floor(timeDiff / (1000 * 60 * 60 * 24));

        total += 1;

        function animateNumber(target, element) {
            let current = parseInt(element.textContent) || 0;
            const duration = 1000;
            const start = performance.now();
            let animationFrame;
            
            function update(timestamp) {
                const progress = Math.min((timestamp - start) / duration, 1);
                const easeProgress = progress === 1 ? 1 : 1 - Math.pow(2, -10 * progress);
                const value = Math.floor(current + (target - current) * easeProgress);
                element.textContent = value.toLocaleString();
                if (progress < 1) animationFrame = requestAnimationFrame(update);
            }
            animationFrame = requestAnimationFrame(update);
            return () => cancelAnimationFrame(animationFrame);
        }

        animateNumber(total, document.getElementById('totalVisitors'));
        document.getElementById('runTime').textContent = runDays;

        localStorage.setItem('totalVisitors', total);
        const lastUpdateTime = new Date().toLocaleString();
        localStorage.setItem('lastUpdateTime', lastUpdateTime);
        document.getElementById('updateTime').textContent = `更新于：${lastUpdateTime}`;
    }

    window.addEventListener('load', initCounter);
</script>
</body>
</html>
